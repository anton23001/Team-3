<!DOCTYPE html>

<html lang="en">
    <head>
        <title>Tietotekniikkasivusto rekisteröityminen</title>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../css/login.css">
        <link rel="stylesheet" href="../css/style_flexbox.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>

    <body>


        <header>
            <!-- Contains main header and login button. -->
            <h1> Tietotekniikkasivusto </h1>
            <i>Tietotekniikkaan liittyv&auml;&auml; tietoa tietotekniikasta kiinnostuneille.</i>
        </header>

        <nav id="navigation-bar">
            <!-- Contains navigation menu with Home, Uutiset, Arvostelut, Keskustelut -->

            <ul>
                <li> <a href="../index.html"> Etusivu </a> </li>
                <li> <a href="../html/news.html"> Uutiset </a> </li>
                <li> <a href="../html/reviews.html"> Arvostelut </a> </li>
                <li> <a href="../html/discussion.html"> Keskustelu </a> </li>
                <li> <a href="../html/palaute.html"> Palaute </a> </li>
            </ul>
        </nav>
    
        <section>
            <script>
                function luoKayttaja(lomake){
                    var henkilo=new Object();
                    henkilo.tunnus=lomake.tunnus.value;
                    henkilo.etunimi=lomake.etunimi.value;
                    henkilo.sukunimi=lomake.sukunimi.value;
                    henkilo.email=lomake.email.value;
                    henkilo.password=lomake.password.value;
                    
                    var jsonHenkilo=JSON.stringify(henkilo);
                    
                    xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function() {
                      if (this.readyState == 4 && this.status == 200) {
                            document.getElementById("result").innerHTML =this.responseText;
                      }
                    };
                    xmlhttp.open("POST", "../php/register.php", true);
                    xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                    xmlhttp.send("henkilo=" + jsonHenkilo);	
                }
                </script>

            <h2>Tietotekniikkasivuston rekisteröityminen</h2>
            
            <form id='henkilolomake'>
                Etunimi: <input type='text' name='etunimi' value='' placeholder='Henkilon etunimi...'><br>
                Sukunimi: <input type='text' name='sukunimi' value='' placeholder='Henkilon sukunimi...'><br>
                Sähköposti: <input type='email' name='email' value='' placeholder='Sähköposti osoite..'><br>
                Käyttäjätunnus: <input type='text' name='tunnus' value='' placeholder='Käyttäjätunnus'><br>
                Salasana: <input type='password' name='password' value='' placeholder='Salasana'><br>
                <input type='button' name='ok' value='Lähetä' onclick='luoKayttaja(this.form);'><br>
            </form>
            <p id='result'>
                Palaute tähän
                </p>
        </section>  


        <footer>
                <!-- Contains footer data. -->

            <p> This footer contains no information. </p>

        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>